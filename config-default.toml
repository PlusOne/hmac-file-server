[server]
listen_address = ":8080"
storage_path = "/opt/hmac-file-server/data/uploads"
metrics_enabled = true
metrics_path = "/metrics"
pid_file = "/var/run/hmac-file-server.pid"
max_upload_size = "10GB"
max_header_bytes = 1048576
cleanup_interval = "24h"
max_file_age = "720h"
pre_cache = true
pre_cache_workers = 4
pre_cache_interval = "1h"
global_extensions = [".txt", ".dat", ".iso"]
deduplication_enabled = true
min_free_bytes = "1GB"
file_naming = "original"
force_protocol = ""
enable_dynamic_workers = true
worker_scale_up_thresh = 50
worker_scale_down_thresh = 10

[uploads]
allowedextensions = [".zip", ".rar", ".7z", ".tar.gz", ".tgz", ".gpg", ".enc", ".pgp", ".txt", ".pdf", ".png", ".jpg", ".jpeg", ".gif", ".bmp", ".tiff", ".svg", ".webp", ".wav", ".mp4", ".avi", ".mkv", ".mov", ".wmv", ".flv", ".webm", ".mpeg", ".mpg", ".m4v", ".3gp", ".3g2", ".mp3", ".ogg"]
chunkeduploadsenabled = true
chunksize = "32MB"
resumableuploadsenabled = true
maxresumableage = "48h"
networkevents = true

# Network Resilience Configuration (3.2 Enhanced Features)
[network_resilience]
enabled = true
fast_detection = false                  # Standard 5-second detection
quality_monitoring = false             # Basic monitoring only
predictive_switching = false           # Wait for complete failure
mobile_optimizations = false           # Standard network thresholds
upload_resilience = true               # Resume uploads across network changes
detection_interval = "5s"              # Standard detection interval
quality_check_interval = "10s"         # Standard quality monitoring
network_change_threshold = 3           # Switches required to trigger network change
interface_stability_time = "30s"       # Time to wait before considering interface stable
upload_pause_timeout = "5m"           # Standard upload pause timeout
upload_retry_timeout = "10m"          # Standard retry timeout
rtt_warning_threshold = "200ms"        # Standard RTT warning
rtt_critical_threshold = "1000ms"      # Standard RTT critical
packet_loss_warning_threshold = 2.0    # 2% packet loss warning
packet_loss_critical_threshold = 10.0  # 10% packet loss critical

[downloads]
resumabledownloadsenabled = true
chunkeddownloadsenabled = true
chunksize = "32MB"
allowedextensions = [".txt", ".pdf", ".png", ".jpg", ".jpeg", ".gif", ".bmp", ".tiff", ".svg", ".webp", ".wav", ".mp4", ".avi", ".mkv", ".mov", ".wmv", ".flv", ".webm", ".mpeg", ".mpg", ".m4v", ".3gp", ".3g2", ".mp3", ".ogg"]

[security]
secret = "f6g4ldPvQM7O2UTFeBEUUj33VrXypDAcsDt0yqKrLiOr5oQW"
enablejwt = false
jwtsecret = "f6g4ldPvQM7O2UTFeBEUUj33VrXypDAcsDt0yqKrLiOr5oQW"
jwtalgorithm = "HS256"
jwtexpiration = "24h"

[logging]
level = "debug"
file = "/var/log/hmac-file-server/hmac-file-server.log"
max_size = 100
max_backups = 7
max_age = 30
compress = true

[deduplication]
enabled = true
directory = "/opt/hmac-file-server/data/duplicates"

[iso]
enabled = false
size = "1GB"
mountpoint = "/mnt/iso"
charset = "utf-8"
containerfile = "/mnt/iso/container.iso"

[timeouts]
readtimeout = "3600s"
writetimeout = "3600s"
idletimeout = "3600s"

[versioning]
enableversioning = false
maxversions = 1

[clamav]
clamavenabled = false
clamavsocket = "/var/run/clamav/clamd.ctl"
numscanworkers = 2
scanfileextensions = [".exe", ".dll", ".bin", ".com", ".bat", ".sh", ".php", ".js"]

[redis]
redisenabled = false
redisdbindex = 0
redisaddr = "localhost:6379"
redispassword = ""
redishealthcheckinterval = "120s"

[workers]
numworkers = 4
uploadqueuesize = 5000

[file]
filerevision = 1
